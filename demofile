This is logic B related code

Finished logic B related code
